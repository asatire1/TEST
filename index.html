<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padel Tournament Manager</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        function PadelTournamentApp() {
            const [selectedRound, setSelectedRound] = useState(1);
            const [activeTab, setActiveTab] = useState('tournament');
            const [filterRound, setFilterRound] = useState('all');
            const [filterPlayer, setFilterPlayer] = useState('all');
            const [knockoutScores, setKnockoutScores] = useState({
                qf1: { team1Score: null, team2Score: null },
                qf2: { team1Score: null, team2Score: null },
                qf3: { team1Score: null, team2Score: null },
                qf4: { team1Score: null, team2Score: null },
                sf1: { team1Score: null, team2Score: null },
                sf2: { team1Score: null, team2Score: null },
                final: { team1Score: null, team2Score: null }
            });
            const [knockoutMaxScore, setKnockoutMaxScore] = useState(16);
            const [finalMaxScore, setFinalMaxScore] = useState(16);
            
            const [playerNames, setPlayerNames] = useState([
                'Player 1', 'Player 2', 'Player 3', 'Player 4', 'Player 5', 'Player 6', 'Player 7', 'Player 8',
                'Player 9', 'Player 10', 'Player 11', 'Player 12', 'Player 13', 'Player 14', 'Player 15', 'Player 16',
                'Player 17', 'Player 18', 'Player 19', 'Player 20', 'Player 21', 'Player 22', 'Player 23', 'Player 24'
            ]);
            
            const [skillRatings, setSkillRatings] = useState({
                1: 3.85, 2: 3.75, 3: 3.7, 4: 3.6, 5: 3.55, 6: 3.4, 7: 3.4, 8: 3.3,
                9: 3.2, 10: 3.15, 11: 3.1, 12: 3.1, 13: 3.0, 14: 2.95, 15: 2.95, 16: 2.9,
                17: 2.85, 18: 2.85, 19: 2.75, 20: 2.7, 21: 2.6, 22: 2.55, 23: 2.55, 24: 2.45
            });
            
            const [matchScores, setMatchScores] = useState(() => {
                const initialScores = {};
                for (let round = 1; round <= 13; round++) {
                    initialScores[round] = {};
                    for (let match = 1; match <= 6; match++) {
                        initialScores[round][match] = { team1Score: null, team2Score: null };
                    }
                }
                return initialScores;
            });

            const fixtures = [
                [[1,4,2,3], [5,8,6,7], [9,12,10,11], [13,16,14,15], [17,20,18,19], [21,24,22,23]],
                [[1,24,10,16], [2,23,6,19], [3,22,7,18], [4,21,8,17], [5,20,13,12], [11,15,14,9]],
                [[1,10,9,4], [2,11,12,3], [5,18,13,8], [6,17,14,7], [15,24,19,20], [16,23,22,21]],
                [[1,21,17,2], [4,19,18,3], [5,12,9,8], [6,11,10,7], [13,24,20,16], [14,23,22,15]],
                [[4,14,13,1], [2,16,15,3], [6,24,21,10], [5,23,11,7], [8,22,17,12], [9,19,18,20]],
                [[1,12,5,4], [2,7,6,3], [9,20,21,8], [10,23,22,11], [13,24,17,18], [14,19,16,15]],
                [[2,24,5,20], [4,23,6,19], [1,22,7,18], [3,21,8,17], [15,16,13,12], [9,11,14,10]],
                [[5,12,9,4], [1,13,8,2], [6,16,11,10], [3,17,14,7], [21,19,23,20], [22,18,15,24]],
                [[2,24,17,4], [1,19,18,3], [6,12,11,8], [5,9,10,7], [14,20,21,16], [13,23,22,15]],
                [[2,23,15,5], [1,22,4,20], [8,7,9,18], [12,14,19,13], [3,24,10,17], [11,16,6,21]],
                [[12,22,16,20], [1,23,6,11], [2,9,7,8], [3,21,5,13], [10,18,14,15], [24,4,19,17]],
                [[2,16,13,4], [5,17,14,1], [6,24,21,8], [3,22,15,7], [10,18,23,12], [9,19,20,11]],
                [[2,8,5,4], [3,7,6,1], [10,24,21,12], [9,23,15,11], [14,20,17,16], [13,19,18,22]]
            ];

            const handleScoreChange = (round, match, team, value) => {
                const score = parseInt(value) || null;
                if (score !== null && (score < 0 || score > 16)) return;
                
                setMatchScores(prev => {
                    const newScores = { ...prev };
                    if (!newScores[round]) newScores[round] = {};
                    if (!newScores[round][match]) newScores[round][match] = { team1Score: null, team2Score: null };
                    
                    if (team === 'team1') {
                        newScores[round][match].team1Score = score;
                        newScores[round][match].team2Score = score !== null ? 16 - score : null;
                    } else {
                        newScores[round][match].team2Score = score;
                        newScores[round][match].team1Score = score !== null ? 16 - score : null;
                    }
                    return newScores;
                });
            };

            const handleKnockoutScore = (match, team, value) => {
                const maxScore = match === 'final' ? finalMaxScore : knockoutMaxScore;
                const score = parseInt(value) || null;
                if (score !== null && (score < 0 || score > maxScore)) return;
                
                setKnockoutScores(prev => {
                    const newScores = { ...prev };
                    if (!newScores[match]) newScores[match] = { team1Score: null, team2Score: null };
                    
                    if (team === 'team1') {
                        newScores[match].team1Score = score;
                        newScores[match].team2Score = score !== null ? maxScore - score : null;
                    } else {
                        newScores[match].team2Score = score;
                        newScores[match].team1Score = score !== null ? maxScore - score : null;
                    }
                    return newScores;
                });
            };

            const getTierColor = (playerNum) => {
                const tierColors = ['#DC2626', '#EA580C', '#CA8A04', '#16A34A', '#2563EB', '#7C3AED'];
                const tierIndex = Math.floor((playerNum - 1) / 4);
                return tierColors[tierIndex] || '#6B7280';
            };

            const getTierName = (playerNum) => {
                const tierNames = ['Elite', 'Advanced', 'Intermediate+', 'Intermediate', 'Beginner+', 'Beginner'];
                const tierIndex = Math.floor((playerNum - 1) / 4);
                return tierNames[tierIndex] || 'Unranked';
            };

            function PlayerBadge({ playerNum }) {
                return (
                    <span 
                        className="inline-block px-2 py-1 rounded-full text-xs font-bold mx-1"
                        style={{ backgroundColor: getTierColor(playerNum), color: 'white' }}
                        title={`${getTierName(playerNum)} - Rating: ${skillRatings[playerNum]}`}
                    >
                        {playerNames[playerNum - 1]}
                    </span>
                );
            }

            function MatchDisplay({ match, matchIndex }) {
                const [team1Player1, team1Player2, team2Player1, team2Player2] = match;
                const currentRound = filterRound !== 'all' ? parseInt(filterRound) : selectedRound;
                const currentScores = matchScores[currentRound]?.[matchIndex + 1] || { team1Score: null, team2Score: null };
                const isMatchComplete = currentScores.team1Score !== null && currentScores.team2Score !== null;
                
                return (
                    <div className={`bg-white rounded-lg shadow-md p-3 border-l-4 border-blue-500 ${isMatchComplete ? 'bg-green-50' : ''}`}>
                        <div className="font-semibold text-gray-700 text-sm mb-2">Match {matchIndex + 1}</div>
                        
                        <div className="mb-2">
                            <PlayerBadge playerNum={team1Player1} />
                            <PlayerBadge playerNum={team1Player2} />
                        </div>
                        
                        <div className="flex items-center justify-center gap-2 my-2">
                            <input
                                type="number"
                                min="0"
                                max="16"
                                value={currentScores.team1Score || ''}
                                onChange={(e) => handleScoreChange(currentRound, matchIndex + 1, 'team1', e.target.value)}
                                className="w-14 h-10 text-center border border-gray-300 rounded"
                                placeholder="0"
                            />
                            <span className="text-lg font-bold">-</span>
                            <input
                                type="number"
                                min="0"
                                max="16"
                                value={currentScores.team2Score || ''}
                                onChange={(e) => handleScoreChange(currentRound, matchIndex + 1, 'team2', e.target.value)}
                                className="w-14 h-10 text-center border border-gray-300 rounded"
                                placeholder="0"
                            />
                        </div>
                        
                        <div className="mb-2">
                            <PlayerBadge playerNum={team2Player1} />
                            <PlayerBadge playerNum={team2Player2} />
                        </div>

                        {isMatchComplete && (
                            <div className="text-center text-sm">
                                {currentScores.team1Score > currentScores.team2Score ? (
                                    <span className="text-green-600 font-semibold">üèÜ Team 1 Wins!</span>
                                ) : currentScores.team2Score > currentScores.team1Score ? (
                                    <span className="text-green-600 font-semibold">üèÜ Team 2 Wins!</span>
                                ) : (
                                    <span className="text-blue-600 font-semibold">ü§ù Tie!</span>
                                )}
                            </div>
                        )}
                    </div>
                );
            }

            function ResultsTab() {
                const playerStats = {};
                
                for (let i = 1; i <= 24; i++) {
                    playerStats[i] = {
                        matches: 0, wins: 0, losses: 0, draws: 0, points: 0, pointsFor: 0, pointsAgainst: 0
                    };
                }
                
                fixtures.forEach((round, roundIndex) => {
                    const roundNum = roundIndex + 1;
                    round.forEach((match, matchIndex) => {
                        const matchNum = matchIndex + 1;
                        const scores = matchScores[roundNum]?.[matchNum];
                        
                        if (scores && scores.team1Score !== null && scores.team2Score !== null) {
                            const [team1p1, team1p2, team2p1, team2p2] = match;
                            const team1Score = scores.team1Score;
                            const team2Score = scores.team2Score;
                            
                            [team1p1, team1p2, team2p1, team2p2].forEach(player => {
                                playerStats[player].matches++;
                            });
                            
                            [team1p1, team1p2].forEach(player => {
                                playerStats[player].pointsFor += team1Score;
                                playerStats[player].pointsAgainst += team2Score;
                            });
                            
                            [team2p1, team2p2].forEach(player => {
                                playerStats[player].pointsFor += team2Score;
                                playerStats[player].pointsAgainst += team1Score;
                            });
                            
                            if (team1Score > team2Score) {
                                [team1p1, team1p2].forEach(p => { playerStats[p].wins++; playerStats[p].points += 3; });
                                [team2p1, team2p2].forEach(p => playerStats[p].losses++);
                            } else if (team2Score > team1Score) {
                                [team2p1, team2p2].forEach(p => { playerStats[p].wins++; playerStats[p].points += 3; });
                                [team1p1, team1p2].forEach(p => playerStats[p].losses++);
                            } else {
                                [team1p1, team1p2, team2p1, team2p2].forEach(p => { playerStats[p].draws++; playerStats[p].points += 1; });
                            }
                        }
                    });
                });
                
                const sortedPlayers = Object.entries(playerStats)
                    .map(([player, stats]) => ({
                        player: parseInt(player), ...stats,
                        pointsDiff: stats.pointsFor - stats.pointsAgainst
                    }))
                    .sort((a, b) => {
                        if (b.points !== a.points) return b.points - a.points;
                        if (b.pointsDiff !== a.pointsDiff) return b.pointsDiff - a.pointsDiff;
                        return b.pointsFor - a.pointsFor;
                    });
                
                return (
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h2 className="text-2xl font-bold text-gray-800 mb-4">Player Standings</h2>
                        <div className="overflow-x-auto">
                            <table className="w-full text-sm">
                                <thead>
                                    <tr className="border-b-2">
                                        <th className="text-left py-2 px-2">Rank</th>
                                        <th className="text-left py-2 px-2">Player</th>
                                        <th className="text-center py-2 px-2">Pts</th>
                                        <th className="text-center py-2 px-2">W</th>
                                        <th className="text-center py-2 px-2">D</th>
                                        <th className="text-center py-2 px-2">L</th>
                                        <th className="text-center py-2 px-2">Diff</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedPlayers.map((p, idx) => (
                                        <tr key={p.player} className={`border-b ${idx < 3 ? 'bg-yellow-50' : ''}`}>
                                            <td className="py-2 px-2 font-semibold">
                                                {idx + 1}{idx === 0 && ' ü•á'}{idx === 1 && ' ü•à'}{idx === 2 && ' ü•â'}
                                            </td>
                                            <td className="py-2 px-2"><PlayerBadge playerNum={p.player} /></td>
                                            <td className="text-center py-2 px-2 font-bold text-blue-600">{p.points}</td>
                                            <td className="text-center py-2 px-2 text-green-600">{p.wins}</td>
                                            <td className="text-center py-2 px-2 text-yellow-600">{p.draws}</td>
                                            <td className="text-center py-2 px-2 text-red-600">{p.losses}</td>
                                            <td className={`text-center py-2 px-2 font-semibold ${p.pointsDiff > 0 ? 'text-green-600' : p.pointsDiff < 0 ? 'text-red-600' : 'text-gray-600'}`}>
                                                {p.pointsDiff > 0 ? '+' : ''}{p.pointsDiff}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            }

            function FairnessTab() {
                const playerFairness = {};
                
                for (let i = 1; i <= 24; i++) {
                    playerFairness[i] = { totalDiff: 0, rounds: [] };
                }
                
                fixtures.forEach((round, roundIndex) => {
                    round.forEach((match) => {
                        const [t1p1, t1p2, t2p1, t2p2] = match;
                        const t1Rating = skillRatings[t1p1] + skillRatings[t1p2];
                        const t2Rating = skillRatings[t2p1] + skillRatings[t2p2];
                        const t1Fair = parseFloat((t1Rating - t2Rating).toFixed(2));
                        const t2Fair = parseFloat((t2Rating - t1Rating).toFixed(2));
                        
                        [t1p1, t1p2].forEach(p => {
                            playerFairness[p].totalDiff += t1Fair;
                            playerFairness[p].rounds.push(t1Fair);
                        });
                        [t2p1, t2p2].forEach(p => {
                            playerFairness[p].totalDiff += t2Fair;
                            playerFairness[p].rounds.push(t2Fair);
                        });
                    });
                });
                
                const sortedPlayers = Object.entries(playerFairness)
                    .map(([player, data]) => ({ player: parseInt(player), ...data }))
                    .sort((a, b) => a.totalDiff - b.totalDiff);
                
                return (
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h2 className="text-2xl font-bold mb-4">Fairness Analysis</h2>
                        <p className="text-sm mb-4">Negative = harder opponents | Positive = easier opponents</p>
                        <div className="overflow-x-auto">
                            <table className="w-full text-sm">
                                <thead>
                                    <tr className="border-b-2">
                                        <th className="text-left py-2 px-2">Player</th>
                                        <th className="text-center py-2 px-2">Total Fairness</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedPlayers.map(p => (
                                        <tr key={p.player} className="border-b">
                                            <td className="py-2 px-2"><PlayerBadge playerNum={p.player} /></td>
                                            <td className={`text-center py-2 px-2 font-bold ${p.totalDiff < 0 ? 'text-red-600' : p.totalDiff > 0 ? 'text-green-600' : 'text-gray-600'}`}>
                                                {p.totalDiff > 0 ? '+' : ''}{p.totalDiff.toFixed(2)}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            }

            function Fairness2Tab() {
                const playerFairness = {};
                
                for (let i = 1; i <= 24; i++) {
                    playerFairness[i] = { totalDiff: 0 };
                }
                
                fixtures.forEach((round) => {
                    round.forEach((match) => {
                        const [t1p1, t1p2, t2p1, t2p2] = match;
                        const avgOpp1 = (skillRatings[t2p1] + skillRatings[t2p2]) / 2;
                        const avgOpp2 = (skillRatings[t1p1] + skillRatings[t1p2]) / 2;
                        
                        playerFairness[t1p1].totalDiff += skillRatings[t1p2] - avgOpp1;
                        playerFairness[t1p2].totalDiff += skillRatings[t1p1] - avgOpp1;
                        playerFairness[t2p1].totalDiff += skillRatings[t2p2] - avgOpp2;
                        playerFairness[t2p2].totalDiff += skillRatings[t2p1] - avgOpp2;
                    });
                });
                
                const sortedPlayers = Object.entries(playerFairness)
                    .map(([player, data]) => ({ player: parseInt(player), ...data }))
                    .sort((a, b) => a.totalDiff - b.totalDiff);
                
                return (
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h2 className="text-2xl font-bold mb-4">Fairness 2: Partner vs Opponents</h2>
                        <p className="text-sm mb-4">Partner Rating - Avg Opponent Rating</p>
                        <div className="overflow-x-auto">
                            <table className="w-full text-sm">
                                <thead>
                                    <tr className="border-b-2">
                                        <th className="text-left py-2 px-2">Player</th>
                                        <th className="text-center py-2 px-2">Total Fairness</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedPlayers.map(p => (
                                        <tr key={p.player} className="border-b">
                                            <td className="py-2 px-2"><PlayerBadge playerNum={p.player} /></td>
                                            <td className={`text-center py-2 px-2 font-bold ${p.totalDiff < 0 ? 'text-red-600' : p.totalDiff > 0 ? 'text-green-600' : 'text-gray-600'}`}>
                                                {p.totalDiff > 0 ? '+' : ''}{p.totalDiff.toFixed(2)}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            }

            function PartnershipsTab() {
                const partnerships = Array(25).fill(null).map(() => Array(25).fill(0));

                fixtures.forEach((round) => {
                    round.forEach((match) => {
                        const [p1, p2, p3, p4] = match;
                        partnerships[p1][p2]++;
                        partnerships[p2][p1]++;
                        partnerships[p3][p4]++;
                        partnerships[p4][p3]++;
                    });
                });

                let uniquePartnerships = 0;
                for (let i = 1; i <= 24; i++) {
                    for (let j = i + 1; j <= 24; j++) {
                        if (partnerships[i][j] > 0) uniquePartnerships++;
                    }
                }

                return (
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h2 className="text-2xl font-bold mb-4">Partnership Analysis</h2>
                        <div className="mb-4 p-4 bg-blue-50 rounded">
                            <p className="font-semibold">Unique Partnerships: {uniquePartnerships} / 276 ({(uniquePartnerships/276*100).toFixed(1)}%)</p>
                        </div>
                        <div className="text-sm">
                            {playerNames.slice(0, 10).map((name, i) => {
                                const partnerCount = partnerships[i+1].filter(p => p > 0).length;
                                return (
                                    <div key={i} className="border-b py-2">
                                        <PlayerBadge playerNum={i+1} /> 
                                        <span className="ml-2 text-gray-600">{partnerCount} different partners</span>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                );
            }

            function KnockoutTab() {
                const playerStats = {};
                
                for (let i = 1; i <= 24; i++) {
                    playerStats[i] = { matches: 0, points: 0, pointsFor: 0, pointsAgainst: 0 };
                }
                
                fixtures.forEach((round, roundIndex) => {
                    const roundNum = roundIndex + 1;
                    round.forEach((match, matchIndex) => {
                        const matchNum = matchIndex + 1;
                        const scores = matchScores[roundNum]?.[matchNum];
                        
                        if (scores && scores.team1Score !== null) {
                            const [t1p1, t1p2, t2p1, t2p2] = match;
                            [t1p1, t1p2, t2p1, t2p2].forEach(p => playerStats[p].matches++);
                            
                            if (scores.team1Score > scores.team2Score) {
                                [t1p1, t1p2].forEach(p => playerStats[p].points += 3);
                            } else if (scores.team2Score > scores.team1Score) {
                                [t2p1, t2p2].forEach(p => playerStats[p].points += 3);
                            } else {
                                [t1p1, t1p2, t2p1, t2p2].forEach(p => playerStats[p].points += 1);
                            }
                        }
                    });
                });
                
                const sortedPlayers = Object.entries(playerStats)
                    .map(([player, stats]) => ({ player: parseInt(player), ...stats }))
                    .sort((a, b) => b.points - a.points);
                
                const qualifiedPlayers = sortedPlayers.slice(0, 12).map(p => p.player);
                
                return (
                    <div className="bg-white rounded-lg shadow-md p-6">
                        <h2 className="text-2xl font-bold mb-4">üèÜ Knockout Stage - Top 12 Qualify</h2>
                        {qualifiedPlayers.length < 12 ? (
                            <div className="text-center py-8">
                                <p className="text-gray-500">Complete all 13 rounds to see qualified players</p>
                            </div>
                        ) : (
                            <div className="grid grid-cols-4 gap-2">
                                {qualifiedPlayers.map((player, idx) => (
                                    <div key={player} className="text-center p-2 bg-yellow-50 rounded border border-yellow-300">
                                        <div className="text-xs font-bold">#{idx + 1}</div>
                                        <PlayerBadge playerNum={player} />
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4">
                    <div className="max-w-6xl mx-auto">
                        <div className="text-center mb-6">
                            <h1 className="text-3xl font-bold text-gray-800">üèì Padel Tournament</h1>
                            <p className="text-gray-600">24 Players ‚Ä¢ 13 Rounds</p>
                        </div>

                        <div className="bg-white rounded-lg shadow-md mb-6">
                            <div className="flex border-b overflow-x-auto">
                                {[
                                    {id: 'tournament', label: 'üèÜ Tournament'},
                                    {id: 'players', label: 'üë• Players'},
                                    {id: 'data', label: 'üíæ Data'},
                                    {id: 'results', label: 'üìä Results'},
                                    {id: 'fairness', label: '‚öñÔ∏è Fairness'},
                                    {id: 'fairness2', label: '‚öñÔ∏è Fairness 2'},
                                    {id: 'partnerships', label: 'ü§ù Partnerships'},
                                    {id: 'knockout', label: 'üèÜ Knockout'}
                                ].map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex-none py-3 px-3 text-xs font-semibold whitespace-nowrap ${
                                            activeTab === tab.id ? 'bg-blue-500 text-white' : 'text-gray-600 hover:text-blue-500'
                                        }`}
                                    >
                                        {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {activeTab === 'tournament' && (
                            <div>
                                <div className="bg-white rounded-lg shadow-lg p-4 mb-4">
                                    <h2 className="text-xl font-bold mb-3">Round {selectedRound}</h2>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                                        {fixtures[selectedRound - 1].map((match, idx) => (
                                            <MatchDisplay key={idx} match={match} matchIndex={idx} />
                                        ))}
                                    </div>
                                </div>
                                <div className="bg-white rounded-lg shadow p-4">
                                    <div className="flex gap-2 flex-wrap">
                                        {Array.from({ length: 13 }, (_, i) => i + 1).map(round => (
                                            <button
                                                key={round}
                                                onClick={() => setSelectedRound(round)}
                                                className={`px-3 py-2 rounded font-semibold ${
                                                    selectedRound === round ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'
                                                }`}
                                            >
                                                R{round}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {activeTab === 'players' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-2xl font-bold mb-4">Edit Players</h2>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    {playerNames.map((name, idx) => (
                                        <div key={idx} className="border p-3 rounded">
                                            <label className="block text-sm font-medium mb-1">
                                                <span style={{backgroundColor: getTierColor(idx+1), color: 'white'}} className="px-2 py-1 rounded text-xs mr-2">
                                                    #{idx+1}
                                                </span>
                                                {getTierName(idx+1)}
                                            </label>
                                            <input
                                                type="text"
                                                value={name}
                                                onChange={(e) => {
                                                    const updated = [...playerNames];
                                                    updated[idx] = e.target.value;
                                                    setPlayerNames(updated);
                                                }}
                                                className="w-full px-3 py-2 border rounded mb-2"
                                            />
                                            <input
                                                type="number"
                                                step="0.05"
                                                min="0"
                                                max="5"
                                                value={skillRatings[idx + 1]}
                                                onChange={(e) => {
                                                    const value = parseFloat(e.target.value);
                                                    if (!isNaN(value) && value >= 0 && value <= 5) {
                                                        setSkillRatings(prev => ({...prev, [idx + 1]: value}));
                                                    }
                                                }}
                                                className="w-full px-3 py-2 border rounded"
                                                placeholder="Rating"
                                            />
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {activeTab === 'data' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-2xl font-bold mb-4">Data Management</h2>
                                <div className="space-y-4">
                                    <div className="p-4 bg-blue-50 rounded">
                                        <p className="font-semibold text-blue-800">Note: For full export/import features with auto-save, download this HTML file to your device.</p>
                                    </div>
                                    <button 
                                        onClick={() => {
                                            if(confirm('Reset all scores?')) {
                                                const empty = {};
                                                for (let r = 1; r <= 13; r++) {
                                                    empty[r] = {};
                                                    for (let m = 1; m <= 6; m++) {
                                                        empty[r][m] = { team1Score: null, team2Score: null };
                                                    }
                                                }
                                                setMatchScores(empty);
                                            }
                                        }}
                                        className="px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600"
                                    >
                                        Reset All Scores
                                    </button>
                                </div>
                            </div>
                        )}

                        {activeTab === 'results' && <ResultsTab />}
                        {activeTab === 'fairness' && <FairnessTab />}
                        {activeTab === 'fairness2' && <Fairness2Tab />}
                        {activeTab === 'partnerships' && <PartnershipsTab />}
                        {activeTab === 'knockout' && <KnockoutTab />}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<PadelTournamentApp />, document.getElementById('root'));
    </script>
</body>
</html>
